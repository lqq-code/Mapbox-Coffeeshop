(self.webpackChunkxboilerplate=self.webpackChunkxboilerplate||[]).push([[261],{35139:function(B){B.exports={layout1Container:"layout1Container___2Oqcd",topItem:"topItem___3r1Cj",chartList:"chartList___kQlx2",rateTitle:"rateTitle___2rnNG",rateTitle2:"rateTitle2___3-amN",rateNumber:"rateNumber___1s0rj",RingProgress:"RingProgress___TOVXB",icondiv:"icondiv___1wLhB",icon:"icon___1F9bl",layout2Container:"layout2Container___15TXn",searchItem:"searchItem___3SGI3",salesExtra:"salesExtra___1sAlA",currentDate:"currentDate___1rYCV",tabItem:"tabItem___ZjUWy",menuItem:"menuItem___1RFgl",searchList:"searchList___24e5U"}},37777:function(B,P,e){"use strict";e.r(P),e.d(P,{default:function(){return sa}});var d=e(67294),ca=e(99427),h=e(28682),N=e(2824),da=e(18106),R=e(47428),fa=e(53400),W=e(15474),w=e(35139),y=e.n(w),pa=e(13062),V=e(36725),Aa=e(89032),G=e(1635),Na=e(58024),z=e(91894),ga=e(20228),K=e(11382),b=e(3182),U=e(94043),S=e.n(U),k=e(20367),X=e(84433),$=e(24725),Q=function(t){if(console.log("time",t),!t||t=="hour")return[{name:"\u4E0A\u6D77\u5E02",alarmTotal:113124,processedAlarmNum:333,pendingAlarmNum:112791},{name:"\u56DB\u5DDD\u7701",alarmTotal:1e3,processedAlarmNum:100,pendingAlarmNum:900},{name:"\u6CB3\u5357\u7701",alarmTotal:80,processedAlarmNum:7,pendingAlarmNum:73},{name:"\u5C71\u4E1C\u7701",alarmTotal:480,processedAlarmNum:20,pendingAlarmNum:460}];if(!t||t=="today")return[{name:"\u4E0A\u6D77\u5E02",alarmTotal:12e4,processedAlarmNum:1100,pendingAlarmNum:118900},{name:"\u56DB\u5DDD\u7701",alarmTotal:1e3,processedAlarmNum:100,pendingAlarmNum:900},{name:"\u6CB3\u5357\u7701",alarmTotal:80,processedAlarmNum:7,pendingAlarmNum:73},{name:"\u5C71\u4E1C\u7701",alarmTotal:480,processedAlarmNum:20,pendingAlarmNum:460},{name:"\u6E56\u5357\u7701",alarmTotal:8,processedAlarmNum:7,pendingAlarmNum:1}];if(!t||t=="yesterday")return[{name:"\u4E0A\u6D77\u5E02",alarmTotal:22e4,processedAlarmNum:2100,pendingAlarmNum:217900},{name:"\u56DB\u5DDD\u7701",alarmTotal:1e3,processedAlarmNum:100,pendingAlarmNum:900},{name:"\u6CB3\u5357\u7701",alarmTotal:80,processedAlarmNum:7,pendingAlarmNum:73},{name:"\u5C71\u4E1C\u7701",alarmTotal:480,processedAlarmNum:20,pendingAlarmNum:460},{name:"\u6E56\u5357\u7701",alarmTotal:8,processedAlarmNum:7,pendingAlarmNum:1},{name:"\u5E7F\u4E1C\u7701",alarmTotal:800,processedAlarmNum:700,pendingAlarmNum:100}];if(!t||t=="week")return[{name:"\u4E0A\u6D77\u5E02",alarmTotal:1892342,processedAlarmNum:235500,pendingAlarmNum:1656842},{name:"\u56DB\u5DDD\u7701",alarmTotal:1e3,processedAlarmNum:100,pendingAlarmNum:900},{name:"\u6CB3\u5357\u7701",alarmTotal:80,processedAlarmNum:7,pendingAlarmNum:73},{name:"\u5C71\u4E1C\u7701",alarmTotal:480,processedAlarmNum:20,pendingAlarmNum:460},{name:"\u6E56\u5357\u7701",alarmTotal:8,processedAlarmNum:7,pendingAlarmNum:1},{name:"\u5E7F\u4E1C\u7701",alarmTotal:800,processedAlarmNum:700,pendingAlarmNum:100},{name:"\u6CB3\u5317\u7701",alarmTotal:8,processedAlarmNum:7,pendingAlarmNum:1},{}];if(!t||t=="month")return[{name:"\u4E0A\u6D77\u5E02",alarmTotal:302322442,processedAlarmNum:124729423,pendingAlarmNum:177593019},{name:"\u56DB\u5DDD\u7701",alarmTotal:1e3,processedAlarmNum:100,pendingAlarmNum:900},{name:"\u6CB3\u5357\u7701",alarmTotal:80,processedAlarmNum:7,pendingAlarmNum:73},{name:"\u5C71\u4E1C\u7701",alarmTotal:480,processedAlarmNum:20,pendingAlarmNum:460},{name:"\u6E56\u5357\u7701",alarmTotal:8,processedAlarmNum:7,pendingAlarmNum:1},{name:"\u5E7F\u4E1C\u7701",alarmTotal:800,processedAlarmNum:700,pendingAlarmNum:100},{name:"\u6C5F\u82CF\u7701",alarmTotal:480,processedAlarmNum:20,pendingAlarmNum:460},{name:"\u6CB3\u5317\u7701",alarmTotal:8,processedAlarmNum:7,pendingAlarmNum:1},{name:"\u5B89\u5FBD\u7701",alarmTotal:1e3,processedAlarmNum:100,pendingAlarmNum:900},{name:"\u9655\u897F\u7701",alarmTotal:8,processedAlarmNum:7,pendingAlarmNum:1},{name:"\u798F\u5EFA\u7701",alarmTotal:80,processedAlarmNum:7,pendingAlarmNum:73}]},J=e(30381),r=e.n(J),n=e(85893),j,q=function(t){var i=t.selectTime,E=t.isDay,v=t.timeType,H=(0,d.useState)(!1),D=(0,N.Z)(H,2),I=D[0],c=D[1],L="",p=[],Y=[];return(0,d.useEffect)(function(){var s=new k.xs({id:"mapWarning",map:new $.Z({center:[116.2825,39.9],pitch:0,style:"blank",zoom:3,minZoom:0,maxZoom:10})});s.on("loaded",function(){j=new X.Sw(s,{provinceData:p,cityData:Y,joinBy:["NAME_CHN","name"],viewStart:"Country",viewEnd:"Province",drillDownEvent:function(){var m=(0,b.Z)(S().mark(function o(u,M){return S().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:console.log(u,M);case 1:case"end":return x.stop()}},o)}));function a(o,u){return m.apply(this,arguments)}return a}(),fill:{color:{field:"alarmTotal",values:function(a){return a>0&&a<10?"#B8E1FF":a>10&&a<=100?"#7DAAFF":a>100&&a<=500?"#3D76DD":a>500&&a<=1e3?"#0047A5":a>1e3&&a<=1e4?"#001D70":a>1e4?"#051d3c":"#ccc"}}},country:{fill:{color:{field:"alarmTotal",values:function(a){return a>0&&a<10?"#B8E1FF":a>10&&a<=100?"#7DAAFF":a>100&&a<=500?"#3D76DD":a>500&&a<=1e3?"#0047A5":a>1e3&&a<=1e4?"#001D70":a>1e4?"#051d3c":"#ccc"}}}},popup:{enable:!0,Html:function(a){if(a.alarmTotal>0){var o=i[0]?i[0]:a.startTime,u=i[1]?i[1]:a.endTime;return`<div style="maxWidth:300">
              <span>\u65F6\u95F4\uFF1A`.concat(r()(o).format("YYYY/MM/DD"),"\u2014").concat(r()(u).format("YYYY/MM/DD"),`</span><br/>
                      <span>\u5730\u57DF\uFF1A`).concat(a.NAME_CHN,`</span><br/>
                      <span>\u9884\u8B66\u603B\u91CF\uFF1A`).concat(a.alarmTotal,`</span><br/>
                      <span>\u5DF2\u5904\u7406\u9884\u8B66\u91CF\uFF1A`).concat(a.processedAlarmNum,`</span><br/>
                      <span>\u5F85\u5904\u7406\u9884\u8B66\u91CF\uFF1A`).concat(a.pendingAlarmNum,`</span><br/>
                      </div>`)}else return"<span>\u6682\u65E0\u6570\u636E</span>"}},legend:{position:"topright"}})});var T=["#ccc","#B8E1FF","#7DAAFF","#3D76DD","#0047A5","#001D70","#051d3c"],A=new k.oT({position:"topleft"});A.onAdd=function(){var m=document.createElement("div");m.className="infolegend legend";for(var a=["0","1-9","10-99","100-499","500-999","1000-10000",">10000"],o=0;o<a.length;o++)m.innerHTML+='<span style="margin-right: 24px"><i style="background:'.concat(T[o],`;display: inline-block; width: 10px;height: 10px;"></i>
          `).concat(a[o],"</span>");return m},s.addControl(A)},[]),(0,d.useEffect)(function(){if(j){var s=function(){var T=(0,b.Z)(S().mark(function A(){var m,a;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:for(c(!0),p=Q(v),m=0;m<p.length;m++)a=p[m].children,a&&a.map(function(M){Y.push(M)});c(!1),j.updateData("province",p),j.updateData("city",Y);case 6:case"end":return u.stop()}},A)}));return function(){return T.apply(this,arguments)}}();s()}},[i,L]),(0,n.jsx)(K.Z,{spinning:I,children:(0,n.jsx)("div",{id:"mapWarning",style:{height:"550px",justifyContent:"center",position:"relative"}})})},_=q,aa=function(t){var i=t.selectTime,E=t.isDay,v=t.timeType;return(0,n.jsx)(V.Z,{gutter:24,children:(0,n.jsx)(G.Z,{xl:24,lg:24,md:24,sm:24,xs:24,style:{marginBottom:24},children:(0,n.jsx)(z.Z,{children:(0,n.jsx)("div",{className:y().mapChart,children:(0,n.jsx)(_,{selectTime:i,isDay:E,timeType:v})})})})})},ea=aa,ra=W.Z.RangePicker,na=R.Z.TabPane,ta=function(){var t=(0,d.useState)("1"),i=(0,N.Z)(t,2),E=i[0],v=i[1],H=(0,d.useState)([]),D=(0,N.Z)(H,2),I=D[0],c=D[1],L=(0,d.useState)([r()().subtract(1,"days").format("YYYY-MM-DD HH:mm:ss"),r()().format("YYYY-MM-DD HH:mm:ss")]),p=(0,N.Z)(L,2),Y=p[0],s=p[1],T=(0,d.useState)(["hour"]),A=(0,N.Z)(T,2),m=A[0],a=A[1],o=(0,d.useState)(!0),u=(0,N.Z)(o,2),M=u[0],f=u[1],x=(0,d.useState)(),O=(0,N.Z)(x,2),oa=O[0],C=O[1],ua=function(l){v(l)},ia=function(l){l==null?(c([]),s([]),f(!0),a(["hour"])):(c([l[0],l[1]]),s([r()(l[0]).format("YYYY-MM-DD 00:00:00"),r()(l[1]).format("YYYY-MM-DD 23:59:59")]),r()(l[0]).format("YYYY-MM-DD")!==r()(l[1]).format("YYYY-MM-DD")?f(!1):f(!0),a([]))},F=function(l){l==="today"?(c([r()(),r()()]),s([r()().format("YYYY-MM-DD 00:00:00"),r()().format("YYYY-MM-DD HH:mm:ss")]),f(!0),a(["today"]),C("today")):l==="hour"?(c([r()().subtract(1,"days"),r()()]),s([r()().subtract(1,"days").format("YYYY-MM-DD HH:mm:ss"),r()().format("YYYY-MM-DD HH:mm:ss")]),f(!0),a(["hour"]),C("hour")):l==="week"?(f(!1),c([r()().startOf("week"),r()()]),s([r()().startOf("week").format("YYYY-MM-DD 00:00:00"),r()().format("YYYY-MM-DD HH:mm:ss")]),a(["week"]),C("week")):l==="yesterday"?(c([r()().subtract(1,"days"),r()().subtract(1,"days")]),s([r()().subtract(1,"days").format("YYYY-MM-DD 00:00:00"),r()().subtract(1,"days").format("YYYY-MM-DD 23:59:59")]),f(!0),a(["yesterday"]),C("yesterday")):l==="month"&&(f(!1),c([r()().startOf("month"),r()()]),s([r()().startOf("month").format("YYYY-MM-DD 00:00:00"),r()().format("YYYY-MM-DD HH:mm:ss")]),a(["month"]),C("month"))};return(0,n.jsxs)("div",{className:y().layout2Container,children:[(0,n.jsx)("div",{className:y().searchItem,children:(0,n.jsxs)("div",{className:y().searchList,children:[(0,n.jsxs)(h.Z,{mode:"horizontal",selectedKeys:m,className:y().menuItem,children:[(0,n.jsx)(h.Z.Item,{onClick:function(){return F("hour")},children:"\u8FD124\u5C0F\u65F6"},"hour"),(0,n.jsx)(h.Z.Item,{onClick:function(){return F("today")},children:"\u4ECA\u65E5"},"today"),(0,n.jsx)(h.Z.Item,{onClick:function(){return F("yesterday")},children:"\u6628\u65E5"},"yesterday"),(0,n.jsx)(h.Z.Item,{onClick:function(){return F("week")},children:"\u672C\u5468"},"week"),(0,n.jsx)(h.Z.Item,{onClick:function(){return F("month")},children:"\u672C\u6708"},"month")]}),(0,n.jsx)(ra,{value:I,onChange:ia})]})}),(0,n.jsx)(R.Z,{defaultActiveKey:"1",onChange:ua,className:y().tabItem,children:(0,n.jsx)(na,{tab:"\u5730\u56FE\u603B\u89C8",children:E==="1"&&(0,n.jsx)(ea,{selectTime:Y,isDay:M,timeType:oa})},"1")})]})},ma=ta,la=function(){return(0,n.jsx)("div",{children:(0,n.jsx)(ma,{})})},sa=la}}]);
